blogdown:::serve_site()
q()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site("~/iblog.com/")
getwd()
blogdown::build_site()
blogdown:::serve_site()
blogdown::hugo_cmd('version')
q()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::hugo_version()
getwd()
library(recharts)
echart(iris, ~ Sepal.Length, ~ Sepal.Width)
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::install_theme("hugo-bootstrap-premium")
blogdown:::install_theme("appernetic/hugo-bootstrap-premium")
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
library(knitr)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
library(rvest)
library(rvest)
htmls = '<select id="otcId">
<option value="01">公募基金管理公司</option>
<option value="02">公募基金管理公司子公司</option>
<option value="03">证券公司</option>
<option value="04">证券公司子公司</option>
<option value="05">私募基金管理机构</option>
<option value="06">保险公司子公司</option>
<option value="07">商业银行</option>
<option value="08">保险公司</option>
<option value="10">外包服务机构</option>
<option value="101">期货公司</option>
<option value="121">期货公司子公司</option>
<option value="141">媒体机构</option>
<option value="15">证券投资咨询机构</option>
<option value="16">评价机构</option>
<option value="161">外资私募证券基金管理人</option>
<option value="17">支付结算</option>
<option value="181">独立服务机构</option>
<option value="182">地方自律组织</option>
<option value="183">境外机构</option>
<option value="19">律师事务所</option>
<option value="20">会计师事务所</option>
<option value="201">交易所</option>
<option value="22">独立第三方销售机构</option>
<option value="221">证券公司资管子公司</option>
<option value="241">证券公司私募基金子公司</option>
<option value="99">其他</option>
</select>'
library(rvest)
# htmls = 'http://person.amac.org.cn/pages/registration/amac-publicity-report.html'
name = read_html(htmls) %>%
html_nodes("#otcId option") %>%
html_text()
id = read_html(htmls) %>%
html_nodes("option") %>%
html_attr("value")
company_ctg = data.frame(
id,
name
)
write.csv(company_ctg, "~/projectJC/crawler/jcCrawler/SMJJ/company_ctg.csv", row.names = F)
library(readr)
fund_staff_log <- read_csv("~/projectJC/crawler/jcCrawler/SMJJ/fund_staff_log.csv",
col_names = FALSE)
View(fund_staff_log)
library(readr)
fund_staff_info <- read_csv("~/projectJC/crawler/jcCrawler/SMJJ/tmpdata/fund_staff_info.csv",
col_names = FALSE)
View(fund_staff_info)
length(unique(fund_staff_info$X15))
tmp = duplicated.data.frame(fund_staff_info)
tmp
sum(tmp)
tmp1 = fund_staff_info$X15[tmp]
tmp2 = fund_staff_info %>%
filter(X15 %in% tmp1)
library("dplyr", lib.loc="~/R/x86_64-redhat-linux-gnu-library/3.4")
tmp2 = fund_staff_info %>%
filter(X15 %in% tmp1)
View(tmp2)
range(fund_staff_info$X15)
tmp = list.files("~/projectJC/crawler/jcCrawler/SMJJ/photo/")
tmp = list.files("~/projectJC/crawler/jcCrawler/SMJJ/photo/")
tmp = list.files("~/projectJC/crawler/jcCrawler/SMJJ/photo/")
tmp = list.files("~/projectJC/crawler/jcCrawler/SMJJ/photo/")
tmp = list.files("~/projectJC/crawler/jcCrawler/SMJJ/photo/")
library(readr)
cxo_info <- read_csv("~/projectJC/crawler/jcCrawler/juchao/cxo_info.csv",
col_names = FALSE)
View(cxo_info)
length(unique(cxo_info$X6))
rnorm(10)
q()
q()
blogdown::update_hugo()
blogdown:::new_post_addin()
blogdown:::serve_site()
bookdown:::mathquill()
blogdown:::serve_site()
blogdown:::serve_site()
library(recharts)
echart(iris, ~ Sepal.Length, ~ Sepal.Width, series = ~ Species)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown::dep_path()
install.packages("widgeframe")
devtools::install_github('bhaskarvk/widgetframe')
blogdown:::new_post_addin()
library(DT)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::pkg_file('resources', 'template-minimal.html')
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
devtools::install_github("yihui/xaringan")
devtools::install_github("yihui/xaringan")
xaringan:::inf_mr()
xaringan:::inf_mr()
xaringan:::inf_mr()
Sys.time()
timestamp()
##------ Thu Feb 22 19:54:44 2018 ------##
library(digest)
sha1('77811404')
nchar("59390c7c7be81ac1be75bf9b65be618b0705117d")
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::hugo_build()
blogdown:::hugo_build()
blogdown:::hugo_build()
blogdown:::hugo_build()
blogdown:::hugo_build()
blogdown:::hugo_build()
blogdown:::hugo_build()
blogdown:::hugo_build()
blogdown:::hugo_build()
library(readxl)
setwd("~/projectJC/crawler/jcCrawler/juchao/")
shcodes = read_excel("上市公司 .xlsx")
View(shcodes)
duplicated(shcodes)
shcodes = shcodes[duplicated(shcodes), ]
View(shcodes)
shcodes = read_excel("上市公司 .xlsx")
shcodes = shcodes[!duplicated(shcodes), ]
length(unique(shcodes$股票代码))
shcodes$股票代码[duplicated(shcodes$股票代码)]
shcodes = shcodes[!duplicated(shcodes$股票代码), ]
cxo = read.csv("cxo_info.csv")
cxo = read.csv("cxo_info.csv", header = F)
cxo = cxo[!duplicated(cxo), ]
names(cxo)
library(dplyr)
setwd("~/projectJC/crawler/jcCrawler/juchao/")
shcodes = read_excel("上市公司 .xlsx")
shcodes = shcodes[!duplicated(shcodes), ]
shcodes = shcodes[!duplicated(shcodes$股票代码), ]
cxo = read.csv("cxo_info.csv", header = F)
cxo = cxo[!duplicated(cxo), ]
names(cxo) = c("姓名", "职务", "出生年份", "性别", "学历", "股票代码")
cxof = cxo %>%
filter(股票代码 %in% shcodes$股票代码)
View(cxof)
length(unique(shcodes$股票代码))
length(unique(cxof$股票代码))
library(readr)
cxo = read_csv("cxo_info.csv", header = F)
cxo = cxo[!duplicated(cxo), ]
names(cxo) = c("姓名", "职务", "出生年份", "性别", "学历", "股票代码")
cxof = cxo %>%
filter(股票代码 %in% shcodes$股票代码)
cxo = read_csv("cxo_info.csv", col_names = F)
cxo = read_csv("cxo_info.csv", col_names = F)
cxo = cxo[!duplicated(cxo), ]
names(cxo) = c("姓名", "职务", "出生年份", "性别", "学历", "股票代码")
cxof = cxo %>%
filter(股票代码 %in% shcodes$股票代码)
length(unique(shcodes$股票代码))
length(unique(cxof$股票代码))
setdiff(shcodes$股票代码, cxof$股票代码)
shcodes$股票代码 = trimws(shcodes$股票代码)
setwd("~/projectJC/crawler/jcCrawler/juchao/")
shcodes = read_excel("上市公司 .xlsx")
shcodes$股票代码 = trimws(shcodes$股票代码)
shcodes = shcodes[!duplicated(shcodes), ]
shcodes = shcodes[!duplicated(shcodes$股票代码), ]
cxo = read_csv("cxo_info.csv", col_names = F)
cxo = cxo[!duplicated(cxo), ]
names(cxo) = c("姓名", "职务", "出生年份", "性别", "学历", "股票代码")
cxof = cxo %>%
filter(股票代码 %in% shcodes$股票代码)
setdiff(shcodes$股票代码, cxof$股票代码)
brief = read_csv("brief_info.csv", col_names = F)
brief = brief[!duplicated(brief), ]
View(brief)
brief = read_csv("brief_info.csv", col_names = F)
brief = brief[!duplicated(brief), ]
names(brief) = c("字段", "信息", "股票代码")
brieff = brief %>%
filter(股票代码 %in% shcodes$股票代码)
length(unique(shcodes$股票代码))
length(unique(cxof$股票代码))
length(unique(brieff$股票代码))
setdiff(shcodes$股票代码, cxof$股票代码)
setdiff(shcodes$股票代码, brieff$股票代码)
cxof = shcodes %>%
left_join(cxof)
library(openxlsx)
res = list("高管信息" = cxof,
"公司概况" = brieff)
write.xlsx(res, "res.xlsx")
library(readxl)
library(readr)
library(dplyr)
library(openxlsx)
setwd("~/projectJC/crawler/jcCrawler/juchao/")
shcodes = read_excel("上市公司 .xlsx")
shcodes$股票代码 = trimws(shcodes$股票代码)
shcodes = shcodes[!duplicated(shcodes), ]
shcodes = shcodes[!duplicated(shcodes$股票代码), ]
cxo = read_csv("cxo_info.csv", col_names = F)
cxo = cxo[!duplicated(cxo), ]
names(cxo) = c("姓名", "职务", "出生年份", "性别", "学历", "股票代码")
cxof = cxo %>%
filter(股票代码 %in% shcodes$股票代码)
brief = read_csv("brief_info.csv", col_names = F)
brief = brief[!duplicated(brief), ]
names(brief) = c("字段", "信息", "股票代码")
brieff = brief %>%
filter(股票代码 %in% shcodes$股票代码)
length(unique(shcodes$股票代码))
length(unique(cxof$股票代码))
length(unique(brieff$股票代码))
setdiff(shcodes$股票代码, cxof$股票代码)
setdiff(shcodes$股票代码, brieff$股票代码)
cxof = shcodes %>%
left_join(cxof)
brieff = shcodes %>%
left_join(brieff)
res = list("高管信息" = cxof,
"公司概况" = brieff)
write.xlsx(res, "res.xlsx")
View(brieff)
length(unique(brieff$字段))
brieff2 = brieff
brieff2$字段 = trimws(brieff2$字段)
unique(brieff$字段)
brieff[is.na(brieff$字段),]
brieff = brief %>%
filter(股票代码 %in% shcodes$股票代码)
brieff2 = brieff
brieff2$字段 = trimws(brieff2$字段)
brieff[is.na(brieff$字段),]
brieff2$字段 = gsub("：", "", brieff2$字段)
View(brieff2)
library(reshape2)
names(brieff2)
tmp = dcast(brieff2, 股票代码 ~ 字段)
View(tmp)
tmp = dcast(brieff2, 股票代码 ~ 字段, value.var = "信息")
library(readxl)
library(readr)
library(dplyr)
library(openxlsx)
library(reshape2)
setwd("~/projectJC/crawler/jcCrawler/juchao/")
shcodes = read_excel("上市公司 .xlsx")
shcodes$股票代码 = trimws(shcodes$股票代码)
shcodes = shcodes[!duplicated(shcodes), ]
shcodes = shcodes[!duplicated(shcodes$股票代码), ]
cxo = read_csv("cxo_info.csv", col_names = F)
cxo = cxo[!duplicated(cxo), ]
names(cxo) = c("姓名", "职务", "出生年份", "性别", "学历", "股票代码")
cxof = cxo %>%
filter(股票代码 %in% shcodes$股票代码)
brief = read_csv("brief_info.csv", col_names = F)
brief = brief[!duplicated(brief), ]
names(brief) = c("字段", "信息", "股票代码")
brieff = brief %>%
filter(股票代码 %in% shcodes$股票代码)
brieff2 = brieff
brieff2$字段 = trimws(brieff2$字段)
brieff2$字段 = gsub("：", "", brieff2$字段)
brieff2 = dcast(brieff2, 股票代码 ~ 字段, value.var = "信息")
length(unique(shcodes$股票代码))
length(unique(cxof$股票代码))
length(unique(brieff$股票代码))
setdiff(shcodes$股票代码, cxof$股票代码)
setdiff(shcodes$股票代码, brieff$股票代码)
cxof = shcodes %>%
left_join(cxof)
brieff = shcodes %>%
left_join(brieff)
brieff2 = shcodes %>%
left_join(brieff2)
res = list("高管信息" = cxof,
"公司概况" = brieff,
"公司概况2" = brieff2)
write.xlsx(res, "res.xlsx")
remove.packages("recharts", lib="~/R/x86_64-redhat-linux-gnu-library/3.4")
devtools::install_github('cosname/recharts')
require(plyr)
axisList = list(
list(index=7, type="category", data = c("low", "middle", "high")),
list(index=6, inverse=TRUE, max=50, nameLocation="start")
)
library(recharts)
axisList
head(parallelDf, 20)
axisList
eParallel(head(parallelDf, 20), series=~groupName, axisList = axisList)
series2 = list(
list(
name = '蒸发量',
type = 'bar',
data = c(2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3)
),
list(
name = '降水量',
type = 'bar',
data = c(2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3)
),
list(
name = '平均温度',
type = 'line',
yAxisIndex = 1,
data = c(2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2)
)
)
ext = list(
xAxis = list(list(
type = "category",
data = c("1月", "2月", "3月", "4月", "5月", "6月",
"7月", "8月", "9月", "10月", "11月",  "12月")
)),
yAxis = list(
list(
type =  'value',
name =  '水量',
min =  0,
max =  250,
interval =  50,
axisLabel =  list(
formatter =  '{value} ml'
)
),
list(
type =  'value',
name =  '温度',
min =  0,
max =  25,
interval =  5,
axisLabel = list(
formatter= '{value}℃'
)
)
))
ePlot(series2, ext )
series2 = list(
list(
name = '蒸发量',
type = 'bar',
data = c(2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3)
),
list(
name = '平均温度',
type = 'line',
yAxisIndex = 1,
data = c(2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2)
)
)
ext = list(
xAxis = list(list(
type = "category",
data = c("1月", "2月", "3月", "4月", "5月", "6月",
"7月", "8月", "9月", "10月", "11月",  "12月")
)),
yAxis = list(
list(
type =  'value',
name =  '水量',
min =  0,
max =  250,
interval =  50,
axisLabel =  list(
formatter =  '{value} ml'
)
),
list(
type =  'value',
name =  '温度',
min =  0,
max =  25,
interval =  5,
axisLabel = list(
formatter= '{value}℃'
)
)
))
ePlot(series2, ext )
library(readxl)
library(dplyr)
setwd("~/projectJC/gcrm/licaishi/")
sheets = excel_sheets("中财一局理财师工作量业绩量.xlsx")
yjl = NULL
for (si in sheets) {
tmp = read_excel("中财一局理财师工作量业绩量.xlsx", sheet = si)
tmp$name = si
yjl = rbind(yjl, tmp)
}
## 删除无数据记录
dlog = yjl %>%
select(-c(年, 月, name))
# dlog = apply(dlog, 1, FUN = function(x) all(is.na(x)) || all(x == 0))
dlog = apply(dlog, 1, FUN = function(x) all(is.na(x)))
yjl = yjl[!dlog, ]
yjl = yjl %>%
filter(!(年 == 2018 & 月 == 2))
write.csv(yjl, "yjl.csv", row.names = F)
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
devtools::install_github("daattali/timevis")
library(timevis)
timevis()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::build_site()
getwd()
q()
q()
q()
